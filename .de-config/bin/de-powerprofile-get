#!/usr/bin/env sh
set -e

if command -v powerprofilesctl &> /dev/null; then
   profile=$(powerprofilesctl get)
   
   if [ "$1" = "--short" ]; then
       case "$profile" in
           performance) echo 'P';;
           balanced) echo 'B';;
           power-saver) echo 'S';;
           *) echo '?';;
       esac
   else
       echo "$profile"
   fi
else
   echo "Error: powerprofilesctl not found"
   exit 1
fi
