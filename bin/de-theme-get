#!/usr/bin/env sh

THEME_INFO_FILE="$HOME/themes/current/spec"
if [ ! -f "$THEME_INFO_FILE" ]; then
    echo "Error: File $THEME_INFO_FILE not found" >&2
    exit 1
fi

THEME_NAME=$(sed -n '1p' "$THEME_INFO_FILE")
THEME_MODE=$(sed -n '2p' "$THEME_INFO_FILE")

case "$1" in
    "name")
        echo "$THEME_NAME"
        ;;
    "mode")
        echo "$THEME_MODE"
        ;;
    "")
        echo "$THEME_NAME $THEME_MODE"
        ;;
    *)
        echo "Usage: $0 [name|mode]" >&2
        echo "  name - return only theme name" >&2
        echo "  mode - return only mode (dark/light)" >&2
        echo "  (no parameter) - return name + mode" >&2
        exit 1
        ;;
esac
